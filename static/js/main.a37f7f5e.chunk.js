(this["webpackJsonpmarketplace-listener"]=this["webpackJsonpmarketplace-listener"]||[]).push([[0],{211:function(e,t,n){},212:function(e,t,n){},215:function(e,t){},372:function(e,t,n){"use strict";n.r(t);var c,r,i,o,a,s,l,j,d,b,x,h,O,m,p,g,f,u=n(1),v=n.n(u),w=n(84),S=n.n(w),k=(n(211),n(212),n(39)),N=n(22),y=n(26),D=n(57),I=n(174),F=n(27),L=function(e){return"".concat((t=e,t.substring(0,6)),"...").concat(function(e){return e.slice(-6)}(e));var t},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18;return D.ethers.BigNumber.from(e).div(D.ethers.BigNumber.from(10).pow(t)).toNumber()},A=function(e){return D.ethers.utils.formatEther(e)},T=function(e){var t=new Date(1e3*e);return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()]+" "+t.getDate()+" - "+"0".concat(t.getHours().toString()).slice(-2)+":"+"0".concat(t.getMinutes().toString()).slice(-2)},P=n(375),_=n(381),B=n(379),z=n(198),E=n(199),M=n(92),U=n(90),J=n(197),R=n(195),W=n(5),K=F.a.div(c||(c=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  background-color: #131318;\n  border-radius: 20px;\n  padding: 24px 16px;\n  margin-top: 60px;\n  position: relative;\n"]))),V=F.a.div(r||(r=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  border-radius: 20px;\n  background-color: #161326;\n  border: 1px solid #595da1;\n  color: #7d8fd1;\n  padding: 10px;\n"]))),q=F.a.div(i||(i=Object(y.a)(["\n  display: flex;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  z-index: 1000;\n  position: absolute;\n  align-items: center;\n  justify-content: center;\n"]))),G=F.a.span(o||(o=Object(y.a)(["\n  font-size: 14px;\n  font-weight: bold;\n  margin-bottom: 8px;\n"]))),H=F.a.span(a||(a=Object(y.a)(["\n  font-size: 12px;\n  color: #7d8fd1;\n  margin-bottom: 4px;\n"]))),Q=F.a.span(s||(s=Object(y.a)(["\n  font-size: 20px;\n  font-weight: bold;\n  margin-bottom: 16px;\n  margin-left: 24px;\n  text-align: left;\n"]))),X=function(e){var t=e.volume,n=function(e){var t=e.active,n=e.payload,c=e.label;return t&&n&&c?Object(W.jsxs)(V,{children:[Object(W.jsx)(G,{children:c}),Object(W.jsx)(H,{children:"NFT ID: ".concat(n[0].payload.id)}),Object(W.jsx)(H,{children:"NFT Price: ".concat(n[0].payload.price)}),Object(W.jsx)(H,{children:"Tot. Volume: ".concat(n[0].payload.volume)})]}):null},c=t.length;return Object(W.jsxs)(K,{children:[Object(W.jsx)(Q,{children:"Volume Sold Since Page Load"}),Object(W.jsx)(P.a,{width:"100%",height:700,children:Object(W.jsxs)(_.a,{data:t,margin:{top:5,right:20,bottom:5,left:0},children:[Object(W.jsx)(B.a,{stroke:"#BDC2C4",strokeDasharray:"5 5",opacity:"0.4"}),Object(W.jsx)(z.a,{dataKey:"time",stroke:"#919191",fontSize:"12px"}),Object(W.jsx)(E.a,{yAxisId:"left",stroke:"#919191",fontSize:"12px",domain:["dataMin","dataMax"]}),Object(W.jsx)(E.a,{yAxisId:"right",orientation:"right",stroke:"#919191",fontSize:"12px"}),Object(W.jsx)(M.a,{content:Object(W.jsx)(n,{})}),Object(W.jsx)(U.a,{}),Object(W.jsx)(J.a,{dataKey:"volume",yAxisId:"left",type:"monotone",stroke:"#0098A1",fill:"#6562a1"}),Object(W.jsx)(R.a,{dataKey:"price",yAxisId:"right",type:"monotone",stroke:"#47CF73"})]})}),!c&&Object(W.jsx)(q,{children:Object(W.jsx)(G,{children:"No sales yet"})})]})},Y=new D.ethers.providers.JsonRpcProvider("https://rpc.ftm.tools/"),Z="https://paintswap.finance/marketplace/",$=1e3,ee=new I.MarketplaceV3(Y),te=600,ne=960,ce=1280,re=1920,ie=2560,oe={xs:"@media screen and (min-width: ".concat(0,"px)"),sm:"@media screen and (min-width: ".concat(te,"px)"),md:"@media screen and (min-width: ".concat(ne,"px)"),lg:"@media screen and (min-width: ".concat(ce,"px)"),xl:"@media screen and (min-width: ".concat(re,"px)"),xxl:"@media screen and (min-width: ".concat(ie,"px)")},ae=F.a.div(l||(l=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  align-items: center;\n"]))),se=F.a.div(j||(j=Object(y.a)(["\n  display: grid;\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n  grid-gap: 60px;\n  width: 100%;\n\n  "," {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n\n  "," {\n    grid-template-columns: repeat(3, minmax(0, 1fr));\n  }\n\n  "," {\n    grid-template-columns: repeat(4, minmax(0, 1fr));\n  }\n\n  "," {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n\n  "," {\n    grid-template-columns: repeat(5, minmax(0, 1fr));\n  }\n"])),oe.sm,oe.md,oe.lg,oe.xl,oe.xxl),le=F.a.div(d||(d=Object(y.a)(["\n  display: grid;\n  grid-template-columns: repeat(1, minmax(0, 1fr));\n  grid-column-gap: 60px;\n  width: 100%;\n\n  "," {\n    grid-template-columns: repeat(2, minmax(0, 1fr));\n  }\n"])),oe.lg),je=F.a.div(b||(b=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 16px;\n  width: 100%;\n  background-color: #131318;\n  border-radius: 20px;\n  padding-bottom: 24px;\n"]))),de=F.a.div(x||(x=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  overflow-x: hidden;\n  overflow-y: visible;\n  max-height: 550px;\n"]))),be=F.a.div(h||(h=Object(y.a)(["\n  display: flex;\n  flex-direction: column;\n  margin-top: 8px;\n  margin-left: 24px;\n  margin-right: 24px;\n"]))),xe=F.a.div(O||(O=Object(y.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  margin-top: 8px;\n"]))),he=F.a.span(m||(m=Object(y.a)(["\n  font-size: 18px;\n  font-weight: bold;\n  margin-bottom: 8px;\n"]))),Oe=F.a.span(p||(p=Object(y.a)(["\n  font-size: 14px;\n  color: #7d8fd1;\n"]))),me=F.a.div(g||(g=Object(y.a)(["\n  margin-top: 16px;\n  height: 1px;\n  width: 100%;\n  background-color: #7d8fd1;\n  opacity: 0.3;\n"]))),pe=F.a.iframe(f||(f=Object(y.a)(["\n  border-radius: 20px;\n  border: none;\n  margin-top: 60px;\n"]))),ge=function(){var e=v.a.useState(!1),t=Object(N.a)(e,2),n=t[0],c=t[1],r=v.a.useState([]),i=Object(N.a)(r,2),o=i[0],a=i[1],s=v.a.useState([]),l=Object(N.a)(s,2),j=l[0],d=l[1],b=v.a.useState([]),x=Object(N.a)(b,2),h=x[0],O=x[1],m=v.a.useState([]),p=Object(N.a)(m,2),g=p[0],f=p[1],w=v.a.useState([]),S=Object(N.a)(w,2),y=S[0],D=S[1],I=v.a.useState([]),F=Object(N.a)(I,2),P=F[0],_=F[1],B=v.a.useState([]),z=Object(N.a)(B,2),E=z[0],M=z[1],U=v.a.useState([]),J=Object(N.a)(U,2),R=J[0],K=J[1];return Object(u.useEffect)((function(){n||(console.log("Start listening"),ee.onNewListing((function(e){console.log("New listing!\n",e);var t=Object.assign({},e,{time:T(Date.now()/1e3)});o.unshift(t),o.length>$&&o.pop(),a(Object(k.a)(o))})),ee.onSold((function(e){console.log("Sold!\n",e);var t=Object.assign({},e,{time:T(Date.now()/1e3)});j.unshift(t),j.length>$&&j.pop(),d(Object(k.a)(j)),R.push({time:t.time,volume:C(t.priceTotal)+(R.length?R[R.length-1].volume:0),id:t.marketplaceId.toString(),price:C(t.priceTotal)}),R.length>500&&R.shift(),K(Object(k.a)(R))})),ee.onOfferAccepted((function(e){console.log("Accepted Offer\n",e);var t=Object.assign({},e,{time:T(Date.now()/1e3)});g.unshift(t),g.length>$&&g.pop(),f(Object(k.a)(g))})),ee.onNewBid((function(e){console.log("New bid\n",e);var t=Object.assign({},e,{time:T(Date.now()/1e3)});P.unshift(t),P.length>$&&P.pop(),_(Object(k.a)(P))})),ee.onNewOffer((function(e){console.log("New offer\n",e);var t=Object.assign({},e,{time:T(Date.now()/1e3)});E.unshift(t),E.length>$&&E.pop(),M(Object(k.a)(E))})),ee.onDurationExtended((function(e){console.log("Auction duration extended\n",e);var t=Object.assign({},e,{time:T(Date.now()/1e3)});y.unshift(t),y.length>$&&y.pop(),D(Object(k.a)(y))})),ee.onPriceUpdate((function(e){console.log("Price updated\n",e);var t=Object.assign({},e,{time:T(Date.now()/1e3)});h.unshift(t),h.length>$&&h.pop(),O(Object(k.a)(h))})),ee.onCancelled((function(e){console.log("Sale Cancelled\n",e)})),ee.onFinished((function(e){console.log("Sale Finished\n",e)})),ee.onNewCollectionOffer((function(e){console.log("New Collection Offer\n",e)})),ee.onNewFilteredCollectionOffer((function(e){console.log("New Filtered Collection Offer\n",e)})),ee.onNewListingAsBundle((function(e){console.log("New Bundled Listing\n",e)})),ee.onNewOfferAsBundle((function(e){console.log("New Bundled Offer\n",e)})),ee.onOfferRemoved((function(e){console.log("Removed Offer\n",e)})),ee.onOfferUpdated((function(e){console.log("Updated Offer\n",e)})),ee.onSoldAsBundle((function(e){console.log("Sold as Bundle\n",e)}))),c(!0)}),[n,o,j,h,y,P,E,R,g]),Object(W.jsxs)(ae,{children:[Object(W.jsxs)(se,{children:[Object(W.jsxs)(je,{children:[Object(W.jsx)("p",{children:"LISTING"}),Object(W.jsxs)(de,{children:[o&&o.map((function(e,t){return Object(W.jsxs)(be,{children:[Object(W.jsxs)(xe,{children:[Object(W.jsx)(he,{children:Object(W.jsx)("a",{href:"".concat(Z).concat(e.marketplaceId.toString()),target:"_blank",rel:"noreferrer",children:e.marketplaceId.toString()})}),Object(W.jsx)(Oe,{children:e.time})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Collection"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"collections/").concat(e.nft.toLowerCase()),target:"_blank",rel:"noreferrer",children:L(e.nft.toLowerCase())})})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Token ID"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"assets/").concat(e.nft.toLowerCase(),"/").concat(e.tokenID.toString()),target:"_blank",rel:"noreferrer",children:e.tokenID.toString()})})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Type"}),Object(W.jsx)(Oe,{children:e.isAuction?"Auction":"Sale"})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Duration"}),Object(W.jsx)(Oe,{children:"".concat((e.duration.toNumber()/3600).toLocaleString(void 0,{maximumFractionDigits:2}),"h")})]}),e.amount.toNumber()>1&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Amount"}),Object(W.jsx)(Oe,{children:e.amount.toString()})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Unit Price"}),Object(W.jsx)(Oe,{children:Number(A(e.pricePerUnit)).toLocaleString(void 0,{maximumFractionDigits:2})})]})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"".concat(e.amount.toNumber()>1?"Total Price":"Price")}),Object(W.jsx)(Oe,{children:Number(A(e.priceTotal)).toLocaleString(void 0,{maximumFractionDigits:2})})]}),Object(W.jsx)(me,{})]},t)})),!o.length&&Object(W.jsx)(he,{children:"Waiting for events..."})]})]}),Object(W.jsxs)(je,{children:[Object(W.jsx)("p",{children:"SOLD"}),Object(W.jsxs)(de,{children:[j&&j.map((function(e,t){return Object(W.jsxs)(be,{children:[Object(W.jsxs)(xe,{children:[Object(W.jsx)(he,{children:Object(W.jsx)("a",{href:"".concat(Z).concat(e.marketplaceId.toString()),target:"_blank",rel:"noreferrer",children:e.marketplaceId.toString()})}),Object(W.jsx)(Oe,{children:e.time})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Collection"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"collections/").concat(e.nft.toLowerCase()),target:"_blank",rel:"noreferrer",children:L(e.nft.toLowerCase())})})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Token ID"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"assets/").concat(e.nft.toLowerCase(),"/").concat(e.tokenID.toString()),target:"_blank",rel:"noreferrer",children:e.tokenID.toString()})})]}),e.amount.toNumber()>1&&Object(W.jsxs)(W.Fragment,{children:[Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Amount"}),Object(W.jsx)(Oe,{children:e.amount.toString()})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Unit Price"}),Object(W.jsx)(Oe,{children:Number(A(e.pricePerUnit)).toLocaleString(void 0,{maximumFractionDigits:2})})]})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"".concat(e.amount.toNumber()>1?"Total Price":"Price")}),Object(W.jsx)(Oe,{children:Number(A(e.priceTotal)).toLocaleString(void 0,{maximumFractionDigits:2})})]}),Object(W.jsx)(me,{})]},t)})),!j.length&&Object(W.jsx)(he,{children:"Waiting for events..."})]})]}),Object(W.jsxs)(je,{children:[Object(W.jsx)("p",{children:"BIDS"}),Object(W.jsxs)(de,{children:[P&&P.map((function(e,t){return Object(W.jsxs)(be,{children:[Object(W.jsxs)(xe,{children:[Object(W.jsx)(he,{children:Object(W.jsx)("a",{href:"".concat(Z).concat(e.marketplaceId.toString()),target:"_blank",rel:"noreferrer",children:e.marketplaceId.toString()})}),Object(W.jsx)(Oe,{children:e.time})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"From"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"user/").concat(e.bidder.toLowerCase()),target:"_blank",rel:"noreferrer",children:L(e.bidder)})})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Price"}),Object(W.jsx)(Oe,{children:Number(A(e.bid)).toLocaleString(void 0,{maximumFractionDigits:2})})]}),Object(W.jsx)(me,{})]},t)})),!P.length&&Object(W.jsx)(he,{children:"Waiting for events..."})]})]}),Object(W.jsxs)(je,{children:[Object(W.jsx)("p",{children:"OFFERS"}),Object(W.jsxs)(de,{children:[E&&E.map((function(e,t){var n,c;return Object(W.jsxs)(be,{children:[Object(W.jsxs)(xe,{children:[Object(W.jsx)(he,{children:Object(W.jsx)("a",{href:"".concat(Z).concat(null===(n=e.marketplaceId)||void 0===n?void 0:n.toString()),target:"_blank",rel:"noreferrer",children:null===(c=e.marketplaceId)||void 0===c?void 0:c.toString()})}),Object(W.jsx)(Oe,{children:e.time})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"From"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"user/").concat(e.from.toLowerCase()),target:"_blank",rel:"noreferrer",children:L(e.from)})})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Price"}),Object(W.jsx)(Oe,{children:Number(A(e.price)).toLocaleString(void 0,{maximumFractionDigits:2})})]}),Object(W.jsx)(me,{})]},t)})),!E.length&&Object(W.jsx)(he,{children:"Waiting for events..."})]})]}),Object(W.jsxs)(je,{children:[Object(W.jsx)("p",{children:"OFFERS TAKEN"}),Object(W.jsxs)(de,{children:[g&&g.map((function(e,t){var n,c;return Object(W.jsxs)(be,{children:[Object(W.jsxs)(xe,{children:[Object(W.jsx)(he,{children:Object(W.jsx)("a",{href:"".concat(Z).concat(null===(n=e.marketplaceId)||void 0===n?void 0:n.toString()),target:"_blank",rel:"noreferrer",children:null===(c=e.marketplaceId)||void 0===c?void 0:c.toString()})}),Object(W.jsx)(Oe,{children:e.time})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Collection"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"collections/").concat(e.nft.toLowerCase()),target:"_blank",rel:"noreferrer",children:L(e.nft.toLowerCase())})})]}),Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Token ID"}),Object(W.jsx)(Oe,{children:Object(W.jsx)("a",{href:"".concat(Z,"assets/").concat(e.nft.toLowerCase(),"/").concat(e.tokenId.toString()),target:"_blank",rel:"noreferrer",children:e.tokenId.toString()})})]}),e.quantity.toNumber()>1&&Object(W.jsx)(W.Fragment,{children:Object(W.jsxs)(xe,{children:[Object(W.jsx)(Oe,{children:"Quantity"}),Object(W.jsx)(Oe,{children:e.quantity.toString()})]})}),Object(W.jsx)(me,{})]},t)})),!g.length&&Object(W.jsx)(he,{children:"Waiting for events..."})]})]})]}),Object(W.jsxs)(le,{children:[Object(W.jsx)(X,{volume:R}),Object(W.jsx)(pe,{src:"https://paintswap.finance/marketplace/globalstats/?hideTable=false",width:"100%",height:"800px"})]})]})},fe=function(){return Object(W.jsxs)("div",{className:"App",children:[Object(W.jsxs)("header",{className:"App-header",children:[Object(W.jsx)("a",{href:"https://paintswap.finance",target:"_blank",rel:"noreferrer",children:Object(W.jsx)("img",{src:"./logo.png",alt:"logo",className:"App-logo"})}),Object(W.jsx)("h1",{children:"NFT Live Events"}),Object(W.jsxs)("span",{className:"App-subtitle",children:[Object(W.jsx)("a",{href:"https://github.com/PaintSwap/paintswap-marketplace-listener",target:"_blank",rel:"noreferrer",children:"Code"})," | ",Object(W.jsx)("a",{href:"https://www.npmjs.com/package/@paintswap/marketplace-interactions",target:"_blank",rel:"noreferrer",children:"Library"})]})]}),Object(W.jsx)(ge,{})]})},ue=v.a.memo(fe),ve=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,382)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),i(e),o(e)}))};S.a.render(Object(W.jsx)(v.a.StrictMode,{children:Object(W.jsx)(ue,{})}),document.getElementById("root")),ve()}},[[372,1,2]]]);
//# sourceMappingURL=main.a37f7f5e.chunk.js.map